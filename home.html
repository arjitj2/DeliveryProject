<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="home.css">
  </head>
  <body onload="distanceMatrix('Greenwich, England','Stockholm, Sweden')">
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpSSHy2RLV7562BeqzPEoVt5FfFDk3AtY&callback=initMap">
    </script>
    <div id="map">
    </div>
    <div id="hi">
    </div>
    <script type="text/javascript">
      var map

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 40.121993, lng: -88.257614},
          zoom: 13
        })
      }
    
      var service = new google.maps.DistanceMatrixService()

      function distanceMatrix(origins, destinations) {
        service.getDistanceMatrix(
          {
            origins: origins,
            destinations: destinations,
            travelMode: google.maps.TravelMode.DRIVING,
            unitSystem: google.maps.UnitSystem.IMPERIAL,
          }, 
          callback
        )
      }

      var distances = []

      function callback(response, status) {
        if (status == google.maps.DistanceMatrixStatus.OK) {
          var origins = response.originAddresses;
          var destinations = response.destinationAddresses;

          for (var i = 0; i < origins.length; i++) {
            var results = response.rows[i].elements;
            for (var j = 0; j < results.length; j++) {
              var element = results[j];
              var distance = element.distance.text;
              var duration = element.duration.text;
              var from = origins[i];
              var to = destinations[j];
              distances << distance
            }
          }
        }
        document.getElementById("responses").innerHTML = distances
      }
    </script>
  </body>
</html>